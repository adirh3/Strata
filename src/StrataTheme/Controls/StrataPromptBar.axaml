<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="using:StrataTheme.Controls">
  <Styles.Resources>
    <ResourceDictionary>
      <ControlTheme x:Key="{x:Type controls:StrataPromptBar}" TargetType="controls:StrataPromptBar">
        <Setter Property="Template">
          <ControlTemplate>
            <Border Name="PART_Root"
                    Background="{DynamicResource Brush.Surface1}"
                    BorderBrush="{DynamicResource Brush.BorderSubtle}"
                    BorderThickness="{DynamicResource Stroke.Thin}"
                    CornerRadius="{DynamicResource Radius.Interactive}"
                    Padding="4,4"
                    ClipToBounds="True"
                    RenderTransformOrigin="0.5,0.5"
                    RenderTransform="scale(1)">
              <Border.Transitions>
                <Transitions>
                  <BrushTransition Property="BorderBrush" Duration="0:0:0.16" />
                  <BoxShadowsTransition Property="BoxShadow" Duration="0:0:0.2" />
                  <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.14" Easing="CubicEaseOut" />
                </Transitions>
              </Border.Transitions>

              <DockPanel>
                <!-- Bottom toolbar -->
                <DockPanel DockPanel.Dock="Bottom" Margin="8,4,4,4">
                  <StackPanel Orientation="Horizontal" Spacing="2">
                    <Button Name="PART_IntentSummary" Classes="subtle" Content="Summary" Padding="8,3" MinHeight="0" FontSize="12" />
                    <Button Name="PART_IntentReport" Classes="subtle" Content="Report" Padding="8,3" MinHeight="0" FontSize="12" />
                    <Button Name="PART_IntentAction" Classes="subtle" Content="Action" Padding="8,3" MinHeight="0" FontSize="12" />
                  </StackPanel>

                  <Button Name="PART_SendButton"
                          DockPanel.Dock="Right"
                          Classes="accent"
                          Content="{TemplateBinding SendText}"
                          Padding="14,5"
                          MinHeight="0"
                          FontSize="12" />
                </DockPanel>

                <!-- Input area -->
                <TextBox Name="PART_Input"
                         Text="{TemplateBinding PromptText}"
                         Watermark="{TemplateBinding Placeholder}"
                         AcceptsReturn="True"
                         TextWrapping="Wrap"
                         MinHeight="38"
                         MaxHeight="120"
                         BorderThickness="0"
                         Background="Transparent"
                         Padding="10,8"
                         VerticalContentAlignment="Top" />
              </DockPanel>
            </Border>
          </ControlTemplate>
        </Setter>

        <Style Selector="^ /template/ Border#PART_Root:pointerover">
          <Setter Property="BorderBrush" Value="{DynamicResource Brush.BorderDefault}" />
          <Setter Property="BoxShadow" Value="0 2 8 0 #0E000000" />
        </Style>

        <Style Selector="^:focus-within /template/ Border#PART_Root">
          <Setter Property="BorderBrush" Value="{DynamicResource Brush.AccentDefault}" />
          <Setter Property="BoxShadow" Value="0 0 0 1 #28818CF8" />
        </Style>

        <Style Selector="^:summary /template/ Button#PART_IntentSummary">
          <Setter Property="Background" Value="{DynamicResource Brush.AccentSubtle}" />
          <Setter Property="Foreground" Value="{DynamicResource Brush.AccentDefault}" />
          <Setter Property="FontWeight" Value="SemiBold" />
        </Style>

        <Style Selector="^:report /template/ Button#PART_IntentReport">
          <Setter Property="Background" Value="{DynamicResource Brush.AccentSubtle}" />
          <Setter Property="Foreground" Value="{DynamicResource Brush.AccentDefault}" />
          <Setter Property="FontWeight" Value="SemiBold" />
        </Style>

        <Style Selector="^:action /template/ Button#PART_IntentAction">
          <Setter Property="Background" Value="{DynamicResource Brush.AccentSubtle}" />
          <Setter Property="Foreground" Value="{DynamicResource Brush.AccentDefault}" />
          <Setter Property="FontWeight" Value="SemiBold" />
        </Style>

        <Style Selector="^:busy /template/ Button#PART_SendButton">
          <Setter Property="Content" Value="{Binding StopText, RelativeSource={RelativeSource TemplatedParent}}" />
          <Setter Property="Background" Value="{DynamicResource Brush.DangerDefault}" />
        </Style>

        <Style Selector="^:empty:not(:busy) /template/ Button#PART_SendButton">
          <Setter Property="Opacity" Value="0.7" />
        </Style>
      </ControlTheme>
    </ResourceDictionary>
  </Styles.Resources>
</Styles>
