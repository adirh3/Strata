<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="using:StrataTheme.Controls">

  <!-- ═══════════════════════════════════════════
       StrataTypingIndicator
       Inline status: pulsing accent dot + label
       ═══════════════════════════════════════════ -->

  <Styles.Resources>
    <ResourceDictionary>
      <ControlTheme x:Key="{x:Type controls:StrataTypingIndicator}" TargetType="controls:StrataTypingIndicator">
        <Setter Property="Margin" Value="0,4,0,0" />
        <Setter Property="Template">
          <ControlTemplate>
            <Border Background="{DynamicResource Brush.Surface1}"
                    BorderBrush="{DynamicResource Brush.BorderSubtle}"
                    BorderThickness="1"
                    CornerRadius="999"
                    Padding="8,4"
                    HorizontalAlignment="Left">
              <Border.Transitions>
                <Transitions>
                  <BrushTransition Property="BorderBrush" Duration="0:0:0.14" />
                  <BoxShadowsTransition Property="BoxShadow" Duration="0:0:0.2" />
                </Transitions>
              </Border.Transitions>

              <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                <StackPanel Orientation="Horizontal" Spacing="4">
                  <Border Name="PART_Dot1"
                          Width="5" Height="5" CornerRadius="2.5"
                          Background="{DynamicResource Brush.AccentDefault}" />
                  <Border Name="PART_Dot2"
                          Width="5" Height="5" CornerRadius="2.5"
                          Background="{DynamicResource Brush.AccentDefault}" />
                  <Border Name="PART_Dot3"
                          Width="5" Height="5" CornerRadius="2.5"
                          Background="{DynamicResource Brush.AccentDefault}" />
                </StackPanel>

                <TextBlock Text="{TemplateBinding Label}"
                           FontSize="12"
                           Foreground="{DynamicResource Brush.TextSecondary}" />
              </StackPanel>
            </Border>
          </ControlTemplate>
        </Setter>

        <Style Selector="^:active /template/ Border:pointerover">
          <Setter Property="BorderBrush" Value="{DynamicResource Brush.BorderDefault}" />
          <Setter Property="BoxShadow" Value="0 1 6 0 #12000000" />
        </Style>

        <Style Selector="^:not(:active)">
          <Setter Property="Opacity" Value="0.5" />
        </Style>
      </ControlTheme>
    </ResourceDictionary>
  </Styles.Resources>
</Styles>
