<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:strata="using:StrataTheme">
  <Styles.Resources>
    <ResourceDictionary>

      <ControlTheme x:Key="{x:Type ListBox}" TargetType="ListBox">
        <Setter Property="(strata:SelectionIndicatorAnimationHelper.Enable)" Value="True" />
        <Setter Property="Background" Value="{DynamicResource Brush.Surface0}" />
        <Setter Property="BorderBrush" Value="{DynamicResource Brush.BorderDefault}" />
        <Setter Property="BorderThickness" Value="{DynamicResource Stroke.Thin}" />
        <Setter Property="CornerRadius" Value="{DynamicResource Radius.Base}" />
        <Setter Property="Padding" Value="4" />
        <Setter Property="FontFamily" Value="{DynamicResource Font.Family}" />
        <Setter Property="FontSize" Value="{DynamicResource Font.SizeBody}" />
        <Setter Property="Foreground" Value="{DynamicResource Brush.TextPrimary}" />
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
        <Setter Property="Template">
          <ControlTemplate>
            <Border Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="{TemplateBinding CornerRadius}"
                    BoxShadow="0 0 0 0 #00000000">
              <Border.Transitions>
                <Transitions>
                  <BrushTransition Property="BorderBrush" Duration="0:0:0.15" />
                  <BrushTransition Property="Background" Duration="0:0:0.15" />
                  <BoxShadowsTransition Property="BoxShadow" Duration="0:0:0.2" />
                </Transitions>
              </Border.Transitions>
              <ScrollViewer HorizontalScrollBarVisibility="{TemplateBinding (ScrollViewer.HorizontalScrollBarVisibility)}"
                            VerticalScrollBarVisibility="{TemplateBinding (ScrollViewer.VerticalScrollBarVisibility)}">
                <ItemsPresenter Name="PART_ItemsPresenter"
                                Margin="{TemplateBinding Padding}"
                                ItemsPanel="{TemplateBinding ItemsPanel}" />
              </ScrollViewer>
            </Border>
          </ControlTemplate>
        </Setter>

        <Style Selector="^:pointerover /template/ Border">
          <Setter Property="BorderBrush" Value="{DynamicResource Brush.BorderStrong}" />
          <Setter Property="BoxShadow" Value="0 2 8 0 #0A000000" />
        </Style>

        <Style Selector="^:focus-within /template/ Border">
          <Setter Property="BorderBrush" Value="{DynamicResource Brush.BorderFocus}" />
          <Setter Property="BoxShadow" Value="0 0 0 2 #1A4F46E5" />
        </Style>
      </ControlTheme>

      <ControlTheme x:Key="{x:Type ListBoxItem}" TargetType="ListBoxItem">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="ClipToBounds" Value="False" />
        <Setter Property="Foreground" Value="{DynamicResource Brush.TextPrimary}" />
        <Setter Property="Padding" Value="11,8" />
        <Setter Property="CornerRadius" Value="{DynamicResource Radius.Base}" />
        <Setter Property="FontFamily" Value="{DynamicResource Font.Family}" />
        <Setter Property="FontSize" Value="{DynamicResource Font.SizeBody}" />
        <Setter Property="Margin" Value="2,1" />
        <Setter Property="Template">
          <ControlTemplate>
            <Border Name="LayoutRoot"
                    Background="{TemplateBinding Background}"
                    CornerRadius="{TemplateBinding CornerRadius}"
                    ClipToBounds="False"
                    RenderTransformOrigin="0,0.5">
              <Border.Transitions>
                <Transitions>
                  <BrushTransition Property="Background" Duration="0:0:0.12" />
                  <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.2" Easing="0.2,0 0,1" />
                </Transitions>
              </Border.Transitions>
              <Panel ClipToBounds="False">
                <!-- Selection indicator (animated by SelectionIndicatorAnimationHelper) -->
                <Border Name="PART_SelectedPipe"
                        Width="2.5"
                        Height="18"
                        CornerRadius="1.25"
                        Background="{DynamicResource Brush.AccentGradient}"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        IsHitTestVisible="False"
                        ClipToBounds="False"
                        Opacity="0" />
                <ContentPresenter Name="PART_ContentPresenter"
                                  Content="{TemplateBinding Content}"
                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                  Padding="{TemplateBinding Padding}"
                                  VerticalContentAlignment="Center" />
              </Panel>
            </Border>
          </ControlTemplate>
        </Setter>

        <Style Selector="^:pointerover /template/ Border#LayoutRoot">
          <Setter Property="Background" Value="{DynamicResource Brush.SubtleHover}" />
          <Setter Property="RenderTransform" Value="translateX(1px)" />
        </Style>
        <Style Selector="^:pressed /template/ Border#LayoutRoot">
          <Setter Property="Background" Value="{DynamicResource Brush.SubtlePressed}" />
        </Style>
        <Style Selector="^:selected /template/ Border#LayoutRoot">
          <Setter Property="Background" Value="{DynamicResource Brush.AccentSubtle}" />
        </Style>
        <Style Selector="^:selected /template/ Border#PART_SelectedPipe">
          <Setter Property="Opacity" Value="1" />
        </Style>
        <Style Selector="^:selected:pointerover /template/ Border#LayoutRoot">
          <Setter Property="Background" Value="{DynamicResource Brush.AccentSubtleHover}" />
        </Style>
      </ControlTheme>

    </ResourceDictionary>
  </Styles.Resources>
</Styles>
