<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="using:StrataTheme.Controls">
  <Styles.Resources>
    <ResourceDictionary>
      <ControlTheme x:Key="{x:Type controls:StrataFork}" TargetType="controls:StrataFork">
        <Setter Property="Focusable" Value="True" />
        <Setter Property="Template">
          <ControlTemplate>
            <Border Background="{DynamicResource Brush.Surface1}"
                    BorderBrush="{DynamicResource Brush.BorderSubtle}"
                    BorderThickness="{DynamicResource Stroke.Thin}"
                    CornerRadius="{DynamicResource Radius.Base}"
                    ClipToBounds="True">
              <Border.Transitions>
                <Transitions>
                  <BrushTransition Property="BorderBrush" Duration="0:0:0.15" />
                </Transitions>
              </Border.Transitions>
              <DockPanel>
                <!-- Tab bar -->
                <Border Name="PART_TabHost"
                        DockPanel.Dock="Top"
                        Background="{DynamicResource Brush.Surface2}"
                        Padding="3">
                  <Grid ColumnDefinitions="*,4,*">
                    <Button Name="PART_OptionA"
                            Grid.Column="0"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Center"
                            Classes="subtle"
                            Padding="10,6"
                            FontSize="13"
                            CornerRadius="{DynamicResource Radius.Small}"
                            Content="{TemplateBinding OptionATitle}" />

                    <Button Name="PART_OptionB"
                            Grid.Column="2"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Center"
                            Classes="subtle"
                            Padding="10,6"
                            FontSize="13"
                            CornerRadius="{DynamicResource Radius.Small}"
                            Content="{TemplateBinding OptionBTitle}" />
                  </Grid>
                </Border>

                <!-- Accent indicator rail -->
                <Border DockPanel.Dock="Top" Height="2" Background="{DynamicResource Brush.Surface2}">
                  <Border Name="PART_Indicator"
                          HorizontalAlignment="Left"
                          Height="2"
                          Background="{DynamicResource Brush.AccentDefault}" />
                </Border>

                <!-- Content area -->
                <Border Padding="14,12">
                  <Grid>
                    <ContentPresenter Name="PART_OptionAContent"
                                      Content="{TemplateBinding OptionAContent}" />
                    <ContentPresenter Name="PART_OptionBContent"
                                      Content="{TemplateBinding OptionBContent}"
                                      IsVisible="False" />
                  </Grid>
                </Border>
              </DockPanel>
            </Border>
          </ControlTemplate>
        </Setter>

        <!-- Active tab A -->
        <Style Selector="^:a /template/ Button#PART_OptionA">
          <Setter Property="Background" Value="{DynamicResource Brush.Surface1}" />
          <Setter Property="Foreground" Value="{DynamicResource Brush.AccentDefault}" />
          <Setter Property="FontWeight" Value="SemiBold" />
        </Style>
        <Style Selector="^:a /template/ Button#PART_OptionB">
          <Setter Property="Foreground" Value="{DynamicResource Brush.TextTertiary}" />
        </Style>

        <!-- Active tab B -->
        <Style Selector="^:b /template/ Button#PART_OptionB">
          <Setter Property="Background" Value="{DynamicResource Brush.Surface1}" />
          <Setter Property="Foreground" Value="{DynamicResource Brush.AccentDefault}" />
          <Setter Property="FontWeight" Value="SemiBold" />
        </Style>
        <Style Selector="^:b /template/ Button#PART_OptionA">
          <Setter Property="Foreground" Value="{DynamicResource Brush.TextTertiary}" />
        </Style>

        <Style Selector="^:focus-visible">
          <Setter Property="BorderBrush" Value="{DynamicResource Brush.AccentDefault}" />
        </Style>
      </ControlTheme>
    </ResourceDictionary>
  </Styles.Resources>
</Styles>
