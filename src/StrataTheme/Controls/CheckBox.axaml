<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <Styles.Resources>
    <ResourceDictionary>

      <ControlTheme x:Key="{x:Type CheckBox}" TargetType="CheckBox">
        <Setter Property="Foreground" Value="{DynamicResource Brush.TextPrimary}" />
        <Setter Property="FontFamily" Value="{DynamicResource Font.Family}" />
        <Setter Property="FontSize" Value="{DynamicResource Font.SizeBody}" />
        <Setter Property="MinHeight" Value="{DynamicResource Size.ControlHeightM}" />
        <Setter Property="Padding" Value="8,0,0,0" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Template">
          <ControlTemplate>
            <Grid ColumnDefinitions="Auto,*">
              <Panel Width="20" Height="20" VerticalAlignment="Center">
                <Border Name="PART_FocusRing"
                        CornerRadius="{DynamicResource Radius.Base}"
                        BorderThickness="{DynamicResource Stroke.FocusRing}"
                        BorderBrush="Transparent"
                        Margin="-3"
                        IsHitTestVisible="False" />
                <Border Name="CheckBorder"
                        Width="20" Height="20"
                        CornerRadius="{DynamicResource Radius.Base}"
                        Background="{DynamicResource Brush.ControlDefault}"
                        BorderBrush="{DynamicResource Brush.BorderDefault}"
                        BorderThickness="{DynamicResource Stroke.Thin}"
                        BoxShadow="0 0 0 0 #00000000"
                        RenderTransformOrigin="0.5,0.5">
                  <Border.Transitions>
                    <Transitions>
                      <BrushTransition Property="Background" Duration="0:0:0.167" />
                      <BrushTransition Property="BorderBrush" Duration="0:0:0.167" />
                      <BoxShadowsTransition Property="BoxShadow" Duration="0:0:0.2" />
                      <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.2" Easing="CubicEaseOut" />
                    </Transitions>
                  </Border.Transitions>
                  <Panel>
                    <Path Name="CheckGlyph"
                          Data="M1,4.5 L4.5,8 L11,1"
                          Stroke="{DynamicResource Brush.TextOnAccent}"
                          StrokeThickness="1.5"
                          StrokeLineCap="Round"
                          StrokeJoin="Round"
                          Width="12" Height="9"
                          Stretch="Uniform"
                          Opacity="0"
                          RenderTransformOrigin="0.5,0.5"
                          RenderTransform="scaleX(0) scaleY(0)">
                      <Path.Transitions>
                        <Transitions>
                          <DoubleTransition Property="Opacity" Duration="0:0:0.1" />
                          <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.2" Easing="CubicEaseOut" />
                        </Transitions>
                      </Path.Transitions>
                    </Path>
                    <Rectangle Name="IndeterminateGlyph"
                               Width="8" Height="2"
                               Fill="{DynamicResource Brush.TextOnAccent}"
                               RadiusX="1" RadiusY="1"
                               Opacity="0"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               RenderTransformOrigin="0.5,0.5"
                               RenderTransform="scaleX(0)">
                      <Rectangle.Transitions>
                        <Transitions>
                          <DoubleTransition Property="Opacity" Duration="0:0:0.1" />
                          <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.2" Easing="CubicEaseOut" />
                        </Transitions>
                      </Rectangle.Transitions>
                    </Rectangle>
                  </Panel>
                </Border>
              </Panel>
              <ContentPresenter Name="PART_ContentPresenter"
                                Grid.Column="1"
                                Content="{TemplateBinding Content}"
                                ContentTemplate="{TemplateBinding ContentTemplate}"
                                Padding="{TemplateBinding Padding}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
            </Grid>
          </ControlTemplate>
        </Setter>

        <Style Selector="^:checked /template/ Border#CheckBorder">
          <Setter Property="Background" Value="{DynamicResource Brush.AccentGradient}" />
          <Setter Property="BorderBrush" Value="{DynamicResource Brush.AccentDefault}" />
        </Style>
        <Style Selector="^:checked /template/ Path#CheckGlyph">
          <Setter Property="Opacity" Value="1" />
          <Setter Property="RenderTransform" Value="scaleX(1) scaleY(1)" />
        </Style>
        <Style Selector="^:indeterminate /template/ Border#CheckBorder">
          <Setter Property="Background" Value="{DynamicResource Brush.AccentGradient}" />
          <Setter Property="BorderBrush" Value="{DynamicResource Brush.AccentDefault}" />
        </Style>
        <Style Selector="^:indeterminate /template/ Rectangle#IndeterminateGlyph">
          <Setter Property="Opacity" Value="1" />
          <Setter Property="RenderTransform" Value="scaleX(1)" />
        </Style>
        <Style Selector="^:pointerover /template/ Border#CheckBorder">
          <Setter Property="BorderBrush" Value="{DynamicResource Brush.BorderStrong}" />
          <Setter Property="BoxShadow" Value="0 0 0 1 #14000000" />
          <Setter Property="RenderTransform" Value="scaleX(1.04) scaleY(1.04)" />
        </Style>
        <Style Selector="^:checked:pointerover /template/ Border#CheckBorder">
          <Setter Property="Background" Value="{DynamicResource Brush.AccentGradientHover}" />
          <Setter Property="BorderBrush" Value="{DynamicResource Brush.AccentHover}" />
          <Setter Property="BoxShadow" Value="0 0 0 2 #1A4F46E5" />
        </Style>
        <Style Selector="^:checked /template/ Path#CheckGlyph">
          <Style.Animations>
            <Animation Duration="0:0:1.6" IterationCount="Infinite">
              <KeyFrame Cue="0%">
                <Setter Property="Opacity" Value="0.85" />
              </KeyFrame>
              <KeyFrame Cue="50%">
                <Setter Property="Opacity" Value="1" />
              </KeyFrame>
              <KeyFrame Cue="100%">
                <Setter Property="Opacity" Value="0.85" />
              </KeyFrame>
            </Animation>
          </Style.Animations>
        </Style>
        <Style Selector="^:focus-visible /template/ Border#PART_FocusRing">
          <Setter Property="BorderBrush" Value="{DynamicResource Brush.AccentGradient}" />
        </Style>
        <Style Selector="^:disabled">
          <Setter Property="Opacity" Value="0.5" />
        </Style>
      </ControlTheme>

    </ResourceDictionary>
  </Styles.Resources>
</Styles>
